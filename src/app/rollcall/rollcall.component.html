<div *ngFor="let group of groups | async">
  <span *ngIf="group.$key == groupId">

    <form #f="ngForm" (ngSubmit)="submitRollcall(f.value)">

      <div class="form-group">
        <h1 *ngIf="group.name != ''; else fillerText">{{group.name}}</h1>
        <ng-template #fillerText><h1>Group Name</h1></ng-template>
        <input type="hidden" class="form-control" name="name" #name="ngModel" [(ngModel)]="group.name" required>
        <div [hidden]="name.valid||(name.pristine&&!f.submitted)" class="text-danger alert alert-danger">Name Required.</div>
      </div>

      <hr/>

      <h2>Students</h2>

      <div class="form-group" *ngFor="let classList of classLists | async">
        <span *ngFor="let v of gas.generateArray(group.classId)">
            <span *ngIf="classList.$key == v">
              <h2>{{classList.name}}</h2>
              <span *ngFor="let student of students | async">
                <p *ngIf="student.classListId == v">
                  <input type="checkbox" [value]="[student.studentId]" name="present" ngModel> {{student.name}}
                </p>
              </span>
            </span>
          </span>
      </div>

      <button class="btn btn-default" [disabled]="group.classId.length < 1 || group.name == ''" type="submit">Submit Rollcall</button>
      <button class="btn btn-default" routerLink="" routerLinkActive="Active">Back</button>

    </form>
  </span>
</div>
